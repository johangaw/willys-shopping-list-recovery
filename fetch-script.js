rawData =
  '[{"name":"Bondkakor","amount":"1","unit":"st","id":"101222694_ST"},{"name":"Syltkakor","amount":"1","unit":"st","id":"101244493_ST"},{"name":"Havreflarn","amount":"1","unit":"st","id":"100209383_ST"},{"name":"Kokosboll 6-pack","amount":"2","unit":"st","id":"101329136_ST"},{"name":"Utvalda Surdegskex med Havssalt","amount":"2","unit":"st","id":"101229151_ST"},{"name":"Digestive Fullkorn","amount":"1","unit":"st","id":"101298013_ST"},{"name":"Digestivekex","amount":"1","unit":"st","id":"101289590_ST"},{"name":"Sarek 8-pack","amount":"2","unit":"st","id":"100103335_ST"},{"name":"Pavé Surdeg 4-pack","amount":"4","unit":"st","id":"101243968_ST"},{"name":"Tranbärsbröd","amount":"1","unit":"st","id":"101358342_ST"},{"name":"Falu Rågrut Original","amount":"1","unit":"st","id":"100738025_ST"},{"name":"Frökusar","amount":"1","unit":"st","id":"101050032_ST"},{"name":"Lingongrova","amount":"3","unit":"st","id":"100168667_ST"},{"name":"Jordgubb Lime 2,25% Cider Burk","amount":"1","unit":"st","id":"101175791_ST"},{"name":"Alkoholfri Alkoholfri 0,5% Alkfri Burk","amount":"1","unit":"st","id":"101265025_ST"},{"name":"Norrlands Guld Lager 2,8% Folköl Burk","amount":"1","unit":"st","id":"101185947_ST"},{"name":"Ship Full Of Ipa Alkfri Alkfri Burk","amount":"2","unit":"st","id":"101422287_ST"},{"name":"Russchian Läsk Pet","amount":"2","unit":"st","id":"100256401_ST"},{"name":"Sprite Lemon-lime Läsk Pet","amount":"2","unit":"st","id":"101305167_ST"},{"name":"Naturell Kolsyrat Vatten Pet","amount":"1","unit":"st","id":"101245453_ST"},{"name":"Citron Kolsyrat Vatten Pet","amount":"1","unit":"st","id":"101245454_ST"},{"name":"Vanilla Caramel Pyramid","amount":"1","unit":"st","id":"101211038_ST"},{"name":"Russian Earl Grey Tea","amount":"1","unit":"st","id":"101207156_ST"},{"name":"Masala Chai","amount":"1","unit":"st","id":"101118602_ST"},{"name":"Mezzo Mellanrost Bryggkaffe","amount":"1","unit":"st","id":"101241278_ST"},{"name":"Matjessill Klassisk","amount":"2","unit":"st","id":"101366847_ST"},{"name":"Mästarmatjes","amount":"2","unit":"st","id":"101392421_ST"},{"name":"Tångcaviar Svart","amount":"1","unit":"st","id":"101344157_ST"},{"name":"Tångcaviar Röd","amount":"2","unit":"st","id":"101344156_ST"},{"name":"Lax Kallrökt","amount":"2","unit":"st","id":"101330536_ST"},{"name":"Kaviar Orginal","amount":"1","unit":"st","id":"101434240_ST"},{"name":"Pak Choi Klass 1","amount":"1","unit":"st","id":"101238614_ST"},{"name":"Majs Förkokt","amount":"4","unit":"st","id":"101174339_ST"},{"name":"Spetskål Klass 1","amount":"1","unit":"st","id":"100288421_KG"},{"name":"Kålrabbi Grön Klass 1","amount":"2","unit":"st","id":"100147770_KG"},{"name":"Morötter Eko Klass 1","amount":"1","unit":"st","id":"100930058_ST"},{"name":"Rädisor Röda i Bunt","amount":"1","unit":"st","id":"100151149_ST"},{"name":"Salladslök Klass 1","amount":"2","unit":"st","id":"100575584_ST"},{"name":"Sparris Grön Klass 1","amount":"2","unit":"st","id":"100771309_ST"},{"name":"Rödbeta Klass 1","amount":"3","unit":"st","id":"100151210_KG"},{"name":"Vitkål Färsk Klass 1","amount":"1","unit":"st","id":"100152914_KG"},{"name":"Färskpotatis Tvättad Klass 1","amount":"2.5","unit":"kg","id":"100026865_KG"},{"name":"Citron Klass 1","amount":"4","unit":"st","id":"100255117_ST"},{"name":"Lime Klass 1","amount":"5","unit":"st","id":"101200430_ST"},{"name":"Banan Fairtrade Klass 1 Eko Klase","amount":"1","unit":"st","id":"100068089_KG"},{"name":"Äpple Elise Klass 1","amount":"6","unit":"st","id":"100828552_KG"},{"name":"Äpple Pink Lady Klass 1","amount":"6","unit":"st","id":"100144318_KG"},{"name":"Melon Galia Klass 1","amount":"2","unit":"st","id":"101288882_KG"},{"name":"Melon Mini Vatten Eko Klass 1","amount":"2","unit":"st","id":"100521525_KG"},{"name":"Zucchini Klass 1","amount":"2","unit":"st","id":"100268130_ST"},{"name":"Aubergine Klass 1","amount":"4","unit":"st","id":"100773272_ST"},{"name":"Vitlök Kapsel Klass 1","amount":"3","unit":"st","id":"100764898_ST"},{"name":"Lök Gul i Påse Klass 1","amount":"1","unit":"st","id":"100812738_ST"},{"name":"Lök Röd i Påse Klass 1","amount":"1","unit":"st","id":"100825065_ST"},{"name":"Gurka Eko Klass 1","amount":"2","unit":"st","id":"101254251_ST"},{"name":"Tomat Babyplommon Hink Klass 1","amount":"2","unit":"st","id":"101267404_ST"},{"name":"Paprika Gul Klass 1","amount":"4","unit":"st","id":"100149251_KG"},{"name":"Paprika Röd Klass 1","amount":"4","unit":"st","id":"100149359_KG"},{"name":"Romansallad Grön Klass 1","amount":"1","unit":"st","id":"100391265_ST"},{"name":"Sallad Isberg Klass 1","amount":"1","unit":"st","id":"100151407_KG"},{"name":"Bearnaise Original","amount":"1","unit":"st","id":"101283524_ST"},{"name":"Bearnaise Chipotle","amount":"1","unit":"st","id":"101224920_ST"},{"name":"Ärtsoppa Vegetarisk","amount":"3","unit":"st","id":"100474997_ST"},{"name":"Köttbullar Färdiglagade","amount":"1","unit":"st","id":"101066070_ST"},{"name":"Rödbetssallad","amount":"2","unit":"st","id":"100310398_ST"},{"name":"Hummus Original","amount":"2","unit":"st","id":"101283553_ST"},{"name":"Pepparrotsvisp","amount":"2","unit":"st","id":"101362224_ST"},{"name":"Nötmix Honung & Salt","amount":"1","unit":"st","id":"101260824_ST"},{"name":"Chips Räfflade Saltade","amount":"2","unit":"st","id":"101272969_ST"},{"name":"Original Chips","amount":"1","unit":"st","id":"101287045_ST"},{"name":"Virginia Traditional Jordnötter","amount":"3","unit":"st","id":"100298090_ST"},{"name":"Pinjenötter Eko","amount":"2","unit":"st","id":"101263469_ST"},{"name":"Hushållspapper Natur","amount":"1","unit":"st","id":"101225891_ST"},{"name":"Chorizo","amount":"2","unit":"st","id":"100322697_ST"},{"name":"Cognacs Medwurst Deliskivor","amount":"1","unit":"st","id":"101348663_ST"},{"name":"Vitlökssalami Deliskivor","amount":"1","unit":"st","id":"101187496_ST"},{"name":"Basturökt Skinka Deliskivor","amount":"1","unit":"st","id":"101183319_ST"},{"name":"Whipping Soya Soja Visp Soya Whipping 23%","amount":"1","unit":"st","id":"101252591_ST"},{"name":"Svarta Körsbär Chili Confit","amount":"1","unit":"st","id":"101352327_ST"},{"name":"Vaniljsås","amount":"2","unit":"st","id":"100177336_ST"},{"name":"Imat Fraîche 15%","amount":"4","unit":"st","id":"101223175_ST"},{"name":"Tranbär Bärdryck Koncentrat","amount":"4","unit":"st","id":"101310008_ST"},{"name":"Svarta Vinbär Bärdryck Koncentrat","amount":"3","unit":"st","id":"101280990_ST"},{"name":"Fläder Fruktdryck Koncentrat","amount":"3","unit":"st","id":"101310186_ST"},{"name":"Apelsinjuice Ekologisk Koncentrat","amount":"3","unit":"st","id":"101202804_ST"},{"name":"Äppeljuice Ekologisk Koncentrat","amount":"3","unit":"st","id":"101202812_ST"},{"name":"Lemonad Citron Koncentrat","amount":"2","unit":"st","id":"101456594_ST"},{"name":"Vanilj Havregurt Laktosfri 2,1%","amount":"1","unit":"st","id":"101270975_ST"},{"name":"Jordgubb Havregurt 1,9%","amount":"1","unit":"st","id":"101223146_ST"},{"name":"Naturell Havregurt 3%","amount":"2","unit":"st","id":"101223139_ST"},{"name":"Mjölkfri Normalsaltat Margarin 60%","amount":"2","unit":"st","id":"101366908_ST"},{"name":"Ikaffe Barista Edition Havredryck","amount":"6","unit":"st","id":"101231662_ST"},{"name":"Ägg 20p Frigående Utomhus Medium/large","amount":"2","unit":"st","id":"101285696_ST"},{"name":"Sesame Oil","amount":"1","unit":"st","id":"101260052_ST"},{"name":"Rice Noodles","amount":"2","unit":"st","id":"101262879_ST"},{"name":"Jordnötssmör Crunchy Ekologiskt","amount":"1","unit":"st","id":"101231193_ST"},{"name":"Panko Glutenfritt","amount":"1","unit":"st","id":"101339319_ST"},{"name":"Kronärtskocka Hjärta","amount":"4","unit":"st","id":"101294757_ST"},{"name":"Ajvar Stark Premium","amount":"1","unit":"st","id":"101357657_ST"},{"name":"Majskorn Ekologiska","amount":"2","unit":"st","id":"101286330_ST"},{"name":"Red Curry Paste","amount":"1","unit":"st","id":"101210805_ST"},{"name":"Röda Linser","amount":"1","unit":"st","id":"101289458_ST"},{"name":"Basmatiris","amount":"1","unit":"st","id":"101488798_ST"},{"name":"Kokosmjölk 17-18%","amount":"3","unit":"st","id":"101210320_ST"},{"name":"Sriracha Mayo","amount":"1","unit":"st","id":"101255687_ST"},{"name":"Tonfisk Vatten","amount":"3","unit":"st","id":"101361685_ST"},{"name":"Mjölk Karamelliserad Kondenserad","amount":"1","unit":"st","id":"101203179_ST"},{"name":"Tropical Gold Ananas Skivor","amount":"1","unit":"st","id":"101176278_ST"},{"name":"Peach Halves In Juice Persikohalvor","amount":"2","unit":"st","id":"100001999_ST"},{"name":"Mandariner","amount":"2","unit":"st","id":"101456971_ST"},{"name":"Solroskärnor Rostade","amount":"2","unit":"st","id":"101163385_ST"},{"name":"Kidneybönor Ekologiska Naturella","amount":"2","unit":"st","id":"101262309_ST"},{"name":"Bucatini","amount":"1","unit":"st","id":"101329460_ST"},{"name":"Lök Rostad","amount":"1","unit":"st","id":"101260936_ST"},{"name":"Majonnäs Äkta","amount":"1","unit":"st","id":"100451529_ST"},{"name":"Gästabud Stark & Söt Senap","amount":"1","unit":"st","id":"100451155_ST"},{"name":"Dijonsenap Original","amount":"1","unit":"st","id":"100038193_ST"},{"name":"Ketchup","amount":"1","unit":"st","id":"101222207_ST"},{"name":"Pilsnerkorv","amount":"3","unit":"st","id":"101327502_ST"},{"name":"Makrillfiléer i Tomatsås","amount":"1","unit":"st","id":"101224913_ST"},{"name":"Sardeller","amount":"1","unit":"st","id":"101355571_ST"},{"name":"Citron Pressad","amount":"1","unit":"st","id":"101239060_ST"},{"name":"Vinäger Crema Di Balsamico","amount":"1","unit":"st","id":"100184177_ST"},{"name":"Vitvinsvinäger Italiensk","amount":"1","unit":"st","id":"101330484_ST"},{"name":"Kapris Små","amount":"2","unit":"st","id":"101290067_ST"},{"name":"Olivmix Kalamon & Gröna Kärnfria","amount":"2","unit":"st","id":"101015232_ST"},{"name":"Oliver Kalamata Kärnfria","amount":"2","unit":"st","id":"100092007_ST"},{"name":"Mafalda Corta Pasta","amount":"2","unit":"st","id":"101284490_ST"},{"name":"Bulgur Grov","amount":"1","unit":"st","id":"101354279_ST"},{"name":"Couscous Fullkorn","amount":"1","unit":"st","id":"101224626_ST"},{"name":"Tomater Krossade","amount":"4","unit":"st","id":"101299599_ST"},{"name":"Svarta Bönor Svenska","amount":"2","unit":"st","id":"101289885_ST"},{"name":"Borlottibönor Svenskodlade","amount":"2","unit":"st","id":"101313605_ST"},{"name":"Tortilla Original Large","amount":"3","unit":"st","id":"101295569_ST"},{"name":"Hallon& Rabarber Marmelad","amount":"1","unit":"st","id":"101255207_ST"},{"name":"Björnbär Marmelad","amount":"1","unit":"st","id":"101255185_ST"},{"name":"Rårörda Lingon Extra Kvalitet","amount":"1","unit":"st","id":"101032384_ST"},{"name":"Fint Salt med Jod","amount":"1","unit":"st","id":"100956663_ST"},{"name":"Havregryn","amount":"1","unit":"st","id":"100132321_ST"},{"name":"Havreringar Naturell","amount":"2","unit":"st","id":"101225562_ST"},{"name":"Nutella","amount":"1","unit":"st","id":"101239477_ST"},{"name":"Tofu Naturell Ekologisk Vegansk","amount":"2","unit":"st","id":"101271138_ST"},{"name":"Block Greek White Vegansk","amount":"2","unit":"st","id":"101278407_ST"},{"name":"Tofu Alspånsrökt Ekologisk/vegansk","amount":"2","unit":"st","id":"101283613_ST"},{"name":"Plant Based Naturell Vegansk","amount":"2","unit":"st","id":"101464438_ST"},{"name":"Block Smoked Flavour Vegansk","amount":"1","unit":"st","id":"101257434_ST"}]';

csrfToken = "";

async function refreshCsrfToken() {
  const res = await fetch(
    "https://www.willys.se/axfood/rest/csrf-token?avoidCache=" +
      Date.now() +
      Math.random() * 1000000000
  );
  csrfToken = await res.json();
}

function addItemToCart(item) {
  return fetch("https://www.willys.se/axfood/rest/cart/addProducts", {
    method: "POST",
    headers: {
      "X-Csrf-Token": csrfToken,
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      products: [
        {
          hideDiscountToolTip: false,
          noReplacementFlag: false,
          pickUnit: item.unit === "st" ? "pieces" : "kilogram",
          productCodePost: item.id,
          qty: Number(item.amount),
        },
      ],
    }),
  });
}

function sleep(ms) {
  return new Promise((res) => {
    setTimeout(res, ms);
  });
}

await refreshCsrfToken();

const data = JSON.parse(rawData).slice(0, 1);

for (const item of data) {
  await addItemToCart(item);
  await sleep(250);
}
